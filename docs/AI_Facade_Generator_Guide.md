# AI辅助建筑立面生成指南

## 项目概述
本指南用于通过AI助手快速生成建筑立面图的MAXScript脚本。

## 工作流程
1. 准备阶段
   - 拍摄建筑立面照片（尽量正面、光线充足）
   - 确认参考尺寸（如标准门高2100mm）
   - 标注需要测量的关键部位

2. 与AI助手交互
   - 提供照片
   - 说明参考尺寸
   - 指出需要分析的立面部分
   - 获取AI生成的MAXScript脚本

3. 执行阶段
   - 将脚本复制到3ds Max
   - 执行脚本生成立面图
   - 根据需要调整细节

## AI提示词模板

```
我需要你帮我分析一张建筑照片并生成立面图：

1. 照片信息：
   - 建筑类型：[住宅/商业/办公]
   - 拍摄角度：[正面/斜45度]
   - 分析目标：[整体立面/局部构件]

2. 参考尺寸：
   - 标准门高：2100mm
   - [其他已知尺寸]

3. 需要测量的部分：
   - [具体描述需要测量的构件]
   - [特殊要求或注意事项]

请帮我：
1. 分析照片中的尺寸关系
2. 生成相应的MAXScript脚本
3. 说明任何需要注意的细节
```

## AI分析问询模板

收到建筑照片后，AI助手应按以下顺序进行问询：

1. 确认分析范围
   ```
   请问您想分析照片中的哪个立面？
   - 是整个建筑还是特定部分？
   - 如果是局部，可以描述一下具体位置吗？
   ```

2. 获取参考尺寸
   ```
   在这个立面中，有哪些已知的标准尺寸可以参考？
   比如：
   - 标准门的尺寸（通常是2100mm x 900mm）
   - 层高
   - 窗户尺寸
   - 其他固定构件的尺寸
   ```

3. 确认重点关注
   ```
   在这个立面中，您最关注哪些部分？
   - 是否需要详细的门窗布局？
   - 是否有特殊的装饰构件需要测量？
   - 是否需要考虑材质分隔线？
   ```

4. 验证初步判断
   ```
   根据参考尺寸，我初步判断：
   - [尺寸推理结果]
   - [比例关系]
   - [特殊发现]
   这些判断符合您的预期吗？
   ```

5. 确认生成需求
   ```
   在生成立面图时：
   - 是否需要包含所有细节？
   - 是否需要分层处理？
   - 是否有特殊的生成要求？
   ```

### 问询技巧

1. 循序渐进
   - 从大到小，先确认整体，再关注细节
   - 每次只问一个方面，避免问题太复杂
   - 根据回答调整后续问题

2. 及时反馈
   - 对每个关键信息进行复述确认
   - 如有不确定，立即询问
   - 说明推理依据

3. 注意细节
   - 关注照片中的参照物
   - 注意构件之间的对齐关系
   - 考虑建筑规范和常用尺寸

## 技术要点

### 1. 坐标系统
- 使用XZ平面（y=0）
- X轴表示宽度
- Z轴表示高度
- 所有尺寸使用毫米（mm）

### 2. 轮廓方向
- 外轮廓：逆时针
- 内轮廓（门窗）：顺时针
- 避免重合边缘

### 3. 常用尺寸参考
```
标准尺寸参考：
- 层高：3000mm
- 门：2100mm x 900mm
- 窗：1200mm x 900mm
- 窗台高：900mm
```

### 4. MAXScript基础函数
```maxscript
-- 创建线条对象
fn createNewLine = (
    local lineObj = line()
    lineObj.pos = [0,0,0]
    return lineObj
)

-- 添加点
fn addPoint obj splineIndex pt = (
    addKnot obj splineIndex #corner #line pt
)
```

## 常见问题解决

1. 轮廓重合问题
   - 现象：门窗边缘与墙体边缘完全重合
   - 解决：保持2D轮廓，由设计师手动调整后进行3D建模

2. 透视校正
   - 现象：照片存在透视变形
   - 解决：使用参考物体（如标准门）进行比例推算

3. 特殊形状处理
   - 现象：非矩形的特殊建筑构件
   - 解决：使用多段线逐点绘制

## 项目文件结构
```
project/
├── FacadeAnalysisTemplate.md  -- 照片分析模板
├── FacadeUtils.ms            -- 基础工具函数库
└── [建筑名称]_facade.ms      -- 具体建筑的生成脚本
```

## 最佳实践

1. 照片拍摄
   - 选择光线充足的时间
   - 尽量正对建筑立面
   - 包含完整的参考物体

2. 尺寸分析
   - 优先使用标准构件作为参考
   - 注意构件之间的对齐关系
   - 考虑建筑规范中的常用尺寸

3. 脚本生成
   - 保持代码结构清晰
   - 添加详细注释
   - 使用统一的命名规范

## 后续开发建议

1. 功能扩展
   - 添加更多建筑构件类型
   - 支持更复杂的几何形状
   - 开发参数化构件库

2. 工具优化
   - 开发UI界面
   - 添加预设模板
   - 集成到3ds Max工具栏

## 参考资源

1. 建筑设计规范
2. MAXScript文档
3. 3ds Max建模教程
